# Стратегия обработки ошибок
- Все события отправляем используя Outbox паттерн, что гарантировать доставку во всех случаях, 
  когда операция выполнилась успешно.
- На стороне консюмеров уметь обрабатывать дубли сообщений (к примеру, могут генерироваться outbox паттерном).
  Можно просто вести таблицу с id пришедших сообщений.
- При возникновении ошибок пробовать повторно обрабатывать сообщения. Для оптимизации можно использовать дополнительный
  retry топик, чтобы не блочить основную обработку и чтобы можно было обрабатывать не сразу, а через какое-то время.
  Лучше как-то развести разные типы исключений: которые можно починить автоматической повторной обработкой и
  которые можно починить только через вмешательство опервторов (не ретраить автоматом).
- Если все попытки обработки закончились при ошибках, то отложить сообщение в dead-letter топик.
- С учетом того, что мы можем повторно обрабатывать сообщения, консюмер не должен завязываться на порядок событий и
  уметь обрабатывать случаи когда событие пришло позже/раньше чем ожидалось.

# Миграция на новую версию события
1. На консюмере добавить поддержку новой версии события (с двумя полями вместо одного).
2. На продюсере начать писать события в новом формате.
3. Удалить логику обработку старых версий событий на консюмере.

## Другой вариант
1. Не трогать формат заполнения поля title. Добавить два новых поля: titleWithoutId и jiraId. 
   title заполнять как jiraId + titleWithoutId, чтобы содержимое было как раньше.
2. На продюсере переехать на новые поля
3. Удалить старое поле, если все продюсере перестали его использовать и оно больше не нужно

Из плюсов, кажется при таком подходе продюсер и консюмер меньше связаны, 
а консюмер даже не обязан срочно переезжать на новые поля. Первый вариант кажется больше подходит, 
если все приложения разрабатываются внутри одной команды, иначе выходит не очень безопасно.
